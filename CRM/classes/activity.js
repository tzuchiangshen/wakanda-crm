//Activity data class methods.model.Activity = {};//*** Methodsmodel.Activity.methods = {};//Entity methods.model.Activity.entityMethods = {};//Eventsmodel.Activity.events = {};model.Activity.events.onInit = function() {	var myCurrentUser = currentUser(), // we get the user of the current session.		myUser = ds.User.find("ID = :1", myCurrentUser.ID);		if ((myCurrentUser !== null) && (myUser !== null)) {//if a user is logged in.				this.owner = myUser;	}		this.status = "Not started";	this.priority = "Normal";	this.due = new Date();};model.Activity.events.onRestrictingQuery = function() {	var myCurrentUser = currentUser(), // we get the user of the current session.		sessionRef = currentSession(), // Get session.		result;			result = ds.Activity.createEntityCollection(); //default to empty collection.		if (sessionRef.belongsTo("Administrator")) {		result = ds.Activity.all();	} else {		result = ds.Activity.query("owner.ID = :1", myCurrentUser.ID);	}		return result;};